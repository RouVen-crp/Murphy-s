<!DOCTYPE html>
<html lang="zh_CN" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="../CSS/save.css">
    <title>读档界面</title>
</head>

<body onload="loadShow()" style="overflow:hidden;background:#000; color:#FFF;">
    <img src="../Image/background_of_load.png" class="backgroundImg">
    <div class="page" id="page1" style="display: block;">
        <div class="load" onclick="gameLoad('load01')">
            <p id="load01">空</p>
        </div>
        <div class="load" onclick="gameLoad('load02')">
            <p id="load02">空</p>
        </div>
        <div class="load" onclick="gameLoad('load03')">
            <p id="load03">空</p>
        </div>
        <div class="load" onclick="gameLoad('load04')">
            <p id="load04">空</p>
        </div>
    </div>
    <button  class="home" onclick="window.location.href='../index.html';return false">
    <button  class="back" onclick="window.location.href='./save_and_load.html';return false">

</body>
<script src="../JS/save_and_load.js"></script>
<script>
    function showPage(str) {
        var pages = [];
        for (var i = 1; i < 7; i++) {
            pages[i] = document.getElementById('page' + i);
            pages[i].style.display = 'none';
        }
        document.getElementById(str).style.display = 'block';
    }
    function showBar(n) {
        var pageNum = [];
        for (var i = 1; i < 7; i++) {
            pageNum[i] = document.getElementById('num' + i);
            pageNum[i].className = '';
        }
        document.getElementById(n).className = 'active'
    }
    /*window.addEventListener('storage', (event) => {
        if (event.key && event.key == 'temp.load' && event.newValue) {
            let x = event.newValue
            let str = x.slice(-6)
            document.getElementById(str).innerHTML = x.slice(0, -6)
        }
    })*/
    function pad(m, n) {
        var len = m.toString().length;
        while (len < n) {
            m = "0" + m
            len++
        }
        return m
    }
    function loadShow() {
        var current_user = localStorage.getItem("__currentUser.load");
        var current_load = current_user + ".load";
        let load_arr = JSON.parse(localStorage.getItem(current_load));
        for (var i = 0; i < 24; i++) {
            let desc = load_arr[i].description;
            let str = "load" + pad(i + 1, 2);
            document.getElementById(str).innerHTML = desc
        }
    }
    function gameLoad(str) {
        load(str)
    }
</script>

</html>